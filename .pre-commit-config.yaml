default_install_hook_types: [pre-commit, commit-msg]

repos:
  - repo: https://github.com/astral-sh/ruff-pre-commit
    # Pin to a Ruff release tag
    rev: v0.1.15
    hooks:
      - id: ruff
      - id: ruff-format
        args: [--check]

  - repo: local
    hooks:
      - id: dco-signoff
        name: Check DCO sign-off
        entry: bash -c 'grep -q "^Signed-off-by; " "$1" || (echo "ERROR; Missing Signed-off-by line. Use; git commit -s" && exit 1)'
        language: system
        stages: [commit-msg]